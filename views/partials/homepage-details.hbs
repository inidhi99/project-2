<div id="feed" class="mx-6 feed">
  {{#each posts as |post|}}
  <div class="card">
      <div class="card-content post">
          {{#if post.human_post }}
             {{> human-post item=post}}
          {{/if}}

           {{#if post.api_cocktail }}
             {{> cocktail-post item=post.api_object}}
          {{/if}}

          {{#if post.api_horoscope }}
             {{> horoscope-post item=post.api_object}}
          {{/if}}

          {{#if post.api_dog }}
             {{> dog-post item=post.api_object}}
          {{/if}}

          {{#each comments }}
            <hr>
            <div>
              {{contents}}
            </div>
            <div>
              -- @{{user.username}}, {{formatDate createdAt}}
            </div>
            <hr>
          {{/each}}
      </div>

      <footer class="card-footer">
          <a class="card-footer-item js-modal-trigger" data-target="new-comment{{@index}}">{{totalComments}}
            <span style="visibility:hidden"> -</span>
            <i class="fa-regular fa-comment comment{{@index}}" postid="{{post.id}}" ></i>
          </a>

          {{#if totalAlreadyLiked}}
            <a class="card-footer-item" loggedIn="{{../loggedIn}}">
              <span class="like{{@index}}">{{totalLikes}}</span>
              <span style="visibility:hidden"> -</span>
              <i class="fa-solid fa-thumbs-up thumbs-up{{@index}}" postid="{{post.id}}"></i>
            </a>
          {{else}}
            <a class="card-footer-item" loggedIn="{{../loggedIn}}">
              <span class="like{{@index}}">{{totalLikes}}</span>
              <span style="visibility:hidden"> -</span>
              <i class="fa-regular fa-thumbs-up thumbs-up{{@index}}"  postid="{{post.id}}"></i>
            </a>
          {{/if}}

          {{#if totalAlreadyDisliked}}
            <a class="card-footer-item" loggedIn="{{../loggedIn}}">
              <span class="dislike{{@index}}">{{totalDislikes}}</span>
              <span style="visibility:hidden"> -</span>
              <i class="fa-solid fa-thumbs-down thumbs-down{{@index}}" postid="{{post.id}}"></i>
            </a>
          {{else}}
            <a class="card-footer-item" loggedIn="{{../loggedIn}}">
              <span class="dislike{{@index}}">{{totalDislikes}}</span>
              <span style="visibility:hidden"> -</span>
              <i class="fa-regular fa-thumbs-down thumbs-down{{@index}}" postid="{{post.id}}"></i>
            </a>
          {{/if}}
      </footer>
  </div>

 {{#if ../loggedIn }}
  <div id="new-comment{{@index}}" class="modal">
    <div class="modal-background"></div>
    <div class="modal-card">

      <header class="modal-card-head new-comment">
        <p class="modal-card-title title">New Comment</p>
        <button class="delete" aria-label="close"></button>
      </header>

      <section class="modal-card-body new-comment">
        <textarea class="textarea" placeholder="10 lines of textarea" rows="10" id="newcomment-text{{@index}}"></textarea>
        <p class="comment-id{{@index}}" style="display:none;">{{id}}</p>
      </section>
      <footer class="modal-card-foot new-comment">
        <button class="button is-success submit" loggedIn="{{../loggedIn}}" id="newcomment-submit">Add my comment</button>
      </footer>
    </div>
  </div>
{{/if}}

  {{/each}}
</div>