const axios = require('axios');

const getMemeApiData = () => {
  return new Promise(async (resolve, reject)=> {
    try {
      const response = await axios.get(`https://api.imgflip.com/get_memes`);
      let {status, statusText, data} = response;
                    
      if (statusText !== 'OK') {
        reject({status: status, message: statusText});
        return;
      };

      const {
        name: name,
        url: image,
    } = data;


    console.log(data)
      return resolve(data);
    } catch(err) {
      return reject(err)
    }
  })
}
  
module.exports = getMemeApiData;